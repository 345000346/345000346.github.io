<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>DNS on</title><link>/tags/dns/</link><description>Recent content in DNS on</description><generator>Hugo</generator><language>en</language><lastBuildDate>Sun, 20 Dec 2020 22:19:10 +0800</lastBuildDate><atom:link href="/tags/dns/rss.xml" rel="self" type="application/rss+xml"/><item><title>在闲置手机上安装 AdGuardHome</title><link>/post/%E5%9C%A8%E9%97%B2%E7%BD%AE%E6%89%8B%E6%9C%BA%E4%B8%8A%E5%AE%89%E8%A3%85-adguardhome/</link><pubDate>Sun, 20 Dec 2020 22:19:10 +0800</pubDate><guid>/post/%E5%9C%A8%E9%97%B2%E7%BD%AE%E6%89%8B%E6%9C%BA%E4%B8%8A%E5%AE%89%E8%A3%85-adguardhome/</guid><description>&lt;p>今天在闲置多年的小米 3(cancro)上安装了 &lt;code>AdGuardHome&lt;/code> ，用来局域网内去广告等&lt;/p></description></item><item><title>LEDE下SmartDNS安装使用</title><link>/post/lede%E4%B8%8Bsmartdns%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/</link><pubDate>Tue, 10 Dec 2019 19:32:10 +0800</pubDate><guid>/post/lede%E4%B8%8Bsmartdns%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/</guid><description>&lt;p>SmartDNS 是一个运行在本地的 DNS 服务器，SmartDNS 接受本地客户端的 DNS 查询请求，从多个上游 DNS 服务器获取 DNS 查询结果，并将访问速度最快的结果返回给客户端，提高网络访问速度。 同时支持指定特定域名 IP 地址，并高性匹配，达到过滤广告的效果。
与 dnsmasq 的 all-servers 不同，smartdns 返回的是访问速度最快的解析结果。&lt;/p>
&lt;!---more--->
&lt;h2 id="1--安装">1. 安装&lt;/h2>
&lt;p>将软件使用 winscp 上传到路由器的 /root 目录，执行如下命令安装&lt;/p>
&lt;pre tabindex="0">&lt;code> opkg install smartdns.xxxxxxxx.xxxx.ipk
 opkg install luci-app-smartdns.xxxxxxxx.xxxx.all.ipk
&lt;/code>&lt;/pre>&lt;h2 id="2-修改配置">2. 修改配置&lt;/h2>
&lt;p>登录 openwrt 管理页面，打开 &lt;code>Services&lt;/code>-&amp;gt;&lt;code>SmartDNS&lt;/code> 进行配置。&lt;/p>
&lt;ul>
&lt;li>在 &lt;code>Upstream Servers&lt;/code> 增加上游 DNS 服务器配置，建议配置多个国内外 DNS 服务器。&lt;/li>
&lt;li>在 &lt;code>Domain Address&lt;/code> 指定特定域名的 IP 地址，可用于广告屏蔽。&lt;/li>
&lt;/ul>
&lt;h2 id="3-启用服务">3. 启用服务&lt;/h2>
&lt;p>SmartDNS 中重定向选中&lt;code>重定向53端口到SmartDNS&lt;/code>。&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>启用 smartdns 的 53 端口重定向&lt;/strong>&lt;/p>
&lt;p>登录路由器，点击 &lt;code>Services&lt;/code>-&amp;gt;&lt;code>SmartDNS&lt;/code>-&amp;gt;&lt;code>redirect&lt;/code>，选择&lt;code>重定向53端口到SmartDNS&lt;/code> 启用 53 端口转发。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>检测转发服务是否配置成功&lt;/strong>&lt;/p></description></item></channel></rss>