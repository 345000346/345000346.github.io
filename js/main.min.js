const closeNav=()=>{const e=document.getElementById("nav-content-mobile");e&&e.classList.add("hidden"),document.body.classList.remove("overflow-hidden")},openNav=()=>{const e=document.getElementById("nav-content-mobile");e&&e.classList.remove("hidden"),document.body.classList.add("overflow-hidden")},handleThemeToggle=()=>{const e=document.documentElement,t="dark"===e.getAttribute("data-theme")?"light":"dark";e.setAttribute("data-theme",t),localStorage.setItem("theme",t),updateBadgeThemes()},updateBadgeThemes=()=>{const e=document.documentElement.getAttribute("data-theme");document.querySelectorAll(".themed-badge").forEach(t=>{const o=t.getAttribute("data-light-src"),n=t.getAttribute("data-dark-src");t.src="dark"===e?n:o})},handleScroll=()=>{const e=document.querySelector("#progress"),t=window.scrollY,o=document.documentElement.scrollHeight-document.documentElement.clientHeight;e&&e.style.setProperty("--scroll",t/o*100+"%")},handleAccordion=()=>{document.querySelectorAll(".sidebar-accordion-header").forEach(e=>{e.addEventListener("click",()=>{const t=e.nextElementSibling,o=e.querySelector(".accordion-arrow");t&&("block"===t.style.display?(t.style.display="none",o&&(o.style.transform="rotate(0deg)")):(t.style.display="block",o&&(o.style.transform="rotate(180deg)")))})})},handleCodeFolding=()=>{document.querySelectorAll(".highlight").forEach(e=>{const t=e.querySelector("pre");if(t&&t.scrollHeight>200){t.style.maxHeight="200px";const o=document.createElement("div");o.className="code-toggle",o.innerHTML='<span class="code-toggle-text">展开</span><i class="iconfont icon-arrow-down"></i>',o.onclick=()=>{const e="200px"!==t.style.maxHeight;t.style.maxHeight=e?"200px":"none",o.querySelector(".code-toggle-text").textContent=e?"展开":"收起"},e.insertBefore(o,t)}})};document.addEventListener("DOMContentLoaded",()=>{document.body.addEventListener("click",e=>{e.target.closest("#nav-toggle")?openNav():(e.target.closest("#nav-close")||e.target.closest("#nav-content-mobile a"))&&closeNav(),(e.target.closest("#theme-toggle")||e.target.closest("#theme-toggle-mobile"))&&handleThemeToggle()});window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(!localStorage.getItem("theme")){const t=e.matches?"dark":"light";document.documentElement.setAttribute("data-theme",t),updateBadgeThemes()}}),document.addEventListener("scroll",handleScroll),handleAccordion(),updateBadgeThemes(),setTimeout(()=>{document.documentElement.style.removeProperty("transition")},0),handleCodeFolding()});